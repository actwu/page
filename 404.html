<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="description" content="Page It — Publisher, write → preview → deploy your HTML directly to GitHub Pages">
<title>Page It</title>
<link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%20viewBox%3D'0%200%2064%2064'%3E%0A%3Ccircle%20cx%3D'32'%20cy%3D'32'%20r%3D'32'%20fill%3D'%230f081f'%2F%3E%0A%3Ctext%20x%3D'32'%20y%3D'46'%20font-size%3D'38'%20font-weight%3D'700'%20text-anchor%3D'middle'%20fill%3D'%23ffffff'%20font-family%3D'Arial'%20letter-spacing%3D'-1'%3EP%3C%2Ftext%3E%0A%3C%2Fsvg%3E">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>
:root{--bg:#000;--text:#f2f2ff;--thumb:#202025;--btn:#000;--line:#161423;--place:#868293;--progress-bg:#2c283d;--progress-fill:#3d4fc7;}
::placeholder{color:var(--place);}
*{margin:0;padding:0;box-sizing:border-box;color:var(--text);border:none;outline:none;text-decoration:none;font-family:"Roboto Mono",monospace;}
body{background:var(--bg);width:100%;height:100svh;display:flex;flex-direction:column;}
nav{left:0;right:0;background:var(--bg);display:flex;padding:.5rem;
gap:.5rem;flex-direction:row;justify-content:left;align-items:center;position:sticky;bottom:0;}
main{flex:1;display:flex;flex-direction:column;overflow:hidden;}
section[aria-stage]{flex:1;display:none;padding:0;}
section[aria-stage][data-active]{display:flex;flex-direction:row;align-items:stretch;gap:0;}
textarea{flex:1;background:var(--bg);color:var(--text);resize:none;padding:.8rem;font-size:.9rem;outline:none;height:100%;border-bottom:4px solid var(--line);}
textarea:hover{background-color:var(--line);border-bottom:4px solid var(--progress-bg);}
iframe{flex:1;background:#fff;height:100%;border:none;}
form{display:flex;flex-direction:column;padding:1rem;gap:.8rem;max-width:340px;margin:auto;width:100%;}
input{background:var(--bg);color:var(--text);padding:.8rem;border-bottom:4px solid var(--line);border-radius:2.5px;}
input:hover{background-color:var(--line);border-bottom:4px solid var(--progress-bg);}
btn,button{display:inline-flex;justify-content:center;align-items:center;background:var(--btn);color:var(--text);border-radius:9999px;padding:.8rem 1.2rem;cursor:pointer;font-size:14px;user-select:none;transition:opacity .2s;}
btn:hover,button:hover{opacity:.85;}
box{display:flex;flex-direction:column;gap:.2rem;flex:1;border-radius:15px;background:var(--progress-bg);align-items:flex-start;justify-content:end;padding:1rem;transition:.5s;}
box:hover{background-color:var(--line);}
#sitesList a{display:block;padding:.4rem 0;color:var(--text);}
::-webkit-scrollbar{width:8px;}
::-webkit-scrollbar-track{background:var(--bg);}
::-webkit-scrollbar-thumb{background:var(--thumb);}
[hide]{display:none;}
@media (orientation:portrait){
section[aria-stage][data-active]{flex-direction:column-reverse;}
}
.monaco-editor, .monaco-editor .margin, .monaco-editor-background {
background: transparent !important;
}
</style>
</head>
<body>


<nav>
<button id="tht"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-code-xml-icon lucide-code-xml"><path d="m18 16 4-4-4-4"/><path d="m6 8-4 4 4 4"/><path d="m14.5 4-5 16"/></svg></button>
<button onclick="window.open('https://actwu.github.io/gen/seo/','_blank','width=800,height=600')">
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-square-library-icon lucide-square-library"><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M7 7v10"/><path d="M11 7v10"/><path d="m15 7 2 10"/></svg>
SEO </button>
•
<button id="prevBtn" hide>
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-left-icon lucide-arrow-left"><path d="m12 19-7-7 7-7"/><path d="M19 12H5"/></svg>
Back</button>
<button id="nextBtn">Next

<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-right-icon lucide-arrow-right"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg></button>
</nav>

<main>
<section aria-stage="1" data-active>
<textarea id="editor" placeholder="Write HTML here...">
&lt;!DOCTYPE html&gt;
&lt;html lang="en" style="color-scheme: dark;"&gt;
&lt;head&gt;
&lt;meta charset="UTF-8"&gt;
&lt;meta name="viewport" content="width=device-width, initial-scale=1"&gt;
&lt;title&gt;Sample Blog Post&lt;/title&gt;
&lt;style&gt;
body {
font-family: Arial, sans-serif;
line-height: 1.6;
padding: 2rem;
max-width: 800px;
margin: auto;
}

h1, h2, h3 {
margin-bottom: 0.5rem;
}

p {
margin-bottom: 1rem;
}

a {
text-decoration: underline;
}

textarea {
width: 100%;
height: 150px;
font-family: monospace;
padding: 0.5rem;
margin-bottom: 1rem;
}

button {
padding: 0.5rem 1rem;
cursor: pointer;
}

body::-webkit-scrollbar {
width: 10px;
}

body::-webkit-scrollbar-track {
background: #111;
}

body::-webkit-scrollbar-thumb {
background: #555;
border-radius: 5px;
}
&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;h1&gt;My First Blog Post&lt;/h1&gt;
&lt;p&gt;Published on &lt;time datetime="2025-10-29"&gt;October 29, 2025&lt;/time&gt;&lt;/p&gt;

&lt;h2&gt;Introduction&lt;/h2&gt;
&lt;p&gt;This is a sample blog post demonstrating a simple HTML template using the browser's dark color scheme.&lt;/p&gt;

&lt;h2&gt;Content&lt;/h2&gt;
&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla vehicula libero vitae metus fermentum, a egestas purus tincidunt.&lt;/p&gt;

&lt;h3&gt;Example Code&lt;/h3&gt;
&lt;textarea placeholder="Write your code here..."&gt;&lt;/textarea&gt;
&lt;button&gt;Submit&lt;/button&gt;

&lt;/body&gt;
&lt;/html&gt;

</textarea>
<iframe id="preview" aria-label="Live preview"></iframe>
</section>

<section aria-stage="2">
<form id="publishForm">
<button onmousedown=getToken()>Get Token</button>
<input id="token" 
placeholder="GitHub Token"
type="password" required>
<input id="repo" 
placeholder="Site Name"
required>
<button id="publishBtn" type="button">Publish</button>
</form>
</section>

<section aria-stage="3">
<set big>
<h3>Published Sites</h3>
<div id="sitesList"></div>
</set>
</section>
</main>

<script defer>
let stage=1;
const stages=document.querySelectorAll('section[aria-stage]');
const editor=document.getElementById('editor');
const frame=document.getElementById('preview');
const token=document.getElementById('token');
const repo=document.getElementById('repo');
const list=document.getElementById('sitesList');
const prevBtn=document.getElementById('prevBtn');
const nextBtn=document.getElementById('nextBtn');
const publishBtn=document.getElementById('publishBtn');
let timer;


const updatePreview=_0=>{
clearTimeout(timer)
timer=setTimeout(()=>{
const doc=frame.contentDocument
doc.open()
doc.write(
`<style>
html {
background:#f2f2f2;
color:#444;
}
html[style="color-scheme:dark"] {
background:#000;
color:#f2f2ff;
}
</style>
${editor.value}`
);
doc.close()
localStorage.setItem('pageit_html',editor.value)

},120)
}

const switchStage=_0=>{
stages.forEach(s=>s.removeAttribute('data-active'))
stages[stage-1].setAttribute('data-active','')
stage==1?prevBtn.setAttribute('hide',''):prevBtn.removeAttribute('hide');
document.getElementById('tht').style.display = stage === 1 ? 'flex' : 'none';

}

const restoreState=_0=>{
editor.value=localStorage.getItem('pageit_html')||''
token.value=localStorage.getItem('pageit_token')||''
repo.value=localStorage.getItem('pageit_repo')||''
renderSites()

updatePreview()
}

const saveForm=_0=>{
localStorage.setItem('pageit_token',token.value)
localStorage.setItem('pageit_repo',repo.value)
}

const renderSites=_0=>{
const saved=JSON.parse(localStorage.getItem('pageit_sites')||'[]')
list.innerHTML=''
saved.forEach(u=>{
const a=document.createElement('a')
a.href=u
a.textContent=u
a.target='_blank'
list.appendChild(a)
})
}

const publish=_0=>{
saveForm()
fetch('https://api.github.com/user',{headers:{Authorization:'token '+token.value}})
.then(r=>r.json())
.then(user=>{
if(!user.login){alert('Invalid token');return}
const repoName=repo.value.trim()
fetch('https://api.github.com/user/repos',{
method:'POST',
headers:{Authorization:'token '+token.value,'Content-Type':'application/json'},
body:JSON.stringify({name:repoName,private:false})
})
.then(r=>r.json())
.then(()=>{
const html=btoa(unescape(encodeURIComponent(editor.value)))
const index=btoa('<meta http-equiv="refresh" content="0;url=404.html">')
const put=(p,c)=>fetch(`https://api.github.com/repos/${user.login}/${repoName}/contents/${p}`,{
method:'PUT',
headers:{Authorization:'token '+token.value,'Content-Type':'application/json'},
body:JSON.stringify({message:'init',content:c})
})
put('404.html',html)
.then(()=>put('index.html',index))
.then(()=>{
fetch(`https://api.github.com/repos/${user.login}/${repoName}/pages`,{
method:'POST',headers:{Authorization:'token '+token.value}
}).then(()=>{
const url=`https://${user.login}.github.io/${repoName}`
const arr=JSON.parse(localStorage.getItem('pageit_sites')||'[]')
arr.push(url)
localStorage.setItem('pageit_sites',JSON.stringify(arr))
alert('Published at '+url)
renderSites()
stage=3
switchStage()
})
})
}).catch(e=>alert('Error: '+e))
})
}

editor.addEventListener('input',updatePreview);
publishBtn.addEventListener('click',publish);
prevBtn.addEventListener('click',_0=>{if(stage>1){stage--;switchStage()}});
nextBtn.addEventListener('click',_0=>{if(stage<3){stage++;switchStage()}});
window.addEventListener('load',restoreState);
const getToken=_0=>window.open('https://github.com/settings/tokens/new?description=access-publisher&scopes=repo');
</script>

<script src="https://cdn.jsdelivr.net/npm/monaco-editor@0.45.0/min/vs/loader.js"></script>
<script>
let useMonaco = false;
let monacoEditor = null;
const toggleBtn = document.getElementById('tht');

const editorContainer = document.createElement('div');
editorContainer.style.flex = '1';
editorContainer.style.display = 'none'; 
editor.parentNode.insertBefore(editorContainer, editor.nextSibling);

toggleBtn.addEventListener('click', () => {
useMonaco = !useMonaco;

if (useMonaco) {
editor.style.display = 'none';
editorContainer.style.display = 'flex'; 

if (!monacoEditor) {
require.config({ paths: { vs: 'https://cdn.jsdelivr.net/npm/monaco-editor@0.45.0/min/vs' } });
require(['vs/editor/editor.main'], function () {
monacoEditor = monaco.editor.create(editorContainer, {
value: editor.value,
language: 'html',
theme: 'vs-dark',
minimap: { enabled: false },
automaticLayout: true
});

monacoEditor.onDidChangeModelContent(() => {
editor.value = monacoEditor.getValue(); 
updatePreview()
});
});
} else {
monacoEditor.setValue(editor.value);
monacoEditor.layout(); 
}
} else {
editor.style.display = 'flex'; 
editorContainer.style.display = 'none';
}
});
</script>

</body>
</html>

